

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Development &mdash; JustHealth 1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="JustHealth 1 documentation" href="index.html"/>
        <link rel="next" title="Full API Listing" href="api.html"/>
        <link rel="prev" title="Architecture" href="arch.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> JustHealth</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examiner.html">Examiners Guide to JustHealth</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examiner.html#welcome">Welcome</a></li>
<li class="toctree-l2"><a class="reference internal" href="examiner.html#website">Website</a></li>
<li class="toctree-l2"><a class="reference internal" href="examiner.html#android">Android</a></li>
<li class="toctree-l2"><a class="reference internal" href="examiner.html#testing-portal">Testing Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="examiner.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="examiner.html#other-links">Other Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="arch.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="arch.html#overall-structure">Overall Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch.html#the-api-server">The API server</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch.html#the-orm">The ORM</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch.html#the-database">The Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch.html#the-web-application">The Web application</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch.html#the-android-application">The Android application</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-development-process">General Development Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automated-api-tests">Automated API Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#runtests-sh">runTests.sh</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Full API Listing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#accounts">Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#email-functions">Email Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#appointments">Appointments</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#connnections">Connnections</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#prescriptions">Prescriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#notifications">Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#reminders">Reminders</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#correspondence">Correspondence</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#admin">Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#security">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#system-functions">System Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Full Views Listing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="views.html#user-login">User Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#register">Register</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#search">Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#deactivate">Deactivate</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#user-logout">User Logout</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#user-verification">User Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#forgot-password">Forgot Password</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#password-reset">Password Reset</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#appointments">Appointments</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#my-patients">My Patients</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#prescriptions">Prescriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#connections">Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#notes">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#contact-us">Contact Us</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#error-handling">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#justhealth-admin-portal">JustHealth Admin Portal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database.html#module-justHealthServer.database">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#helper-functions">Helper Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="html.html">HTML Listing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="html.html#frontpage-html">frontpage.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#login-html">login.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#register-html">register.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#dashboard-html">dashboard.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#dashboardcarer-html">dashboardCarer.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#editprofile-html">editProfile.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#deactivate-html">deactivate.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#search-html">search.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#changepassword-html">changePassword.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#resetpassword-html">resetpassword.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#resetpasswordnowquestion-html">resetpasswordnowquestion.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#expiredpassword-html">expiredpassword.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#mypatients-html">myPatients.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#carerappointments-html">carerAppointments.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#patientappointments-html">patientAppointments.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#patientupdateappointment-html">patientUpdateAppointment.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#prescriptions-html">prescriptions.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#correspondence-html">correspondence.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#patientnotes-html">patientNotes.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#contactus-html">contactUs.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#faq-html">faq.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#template-html">template.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#searchnhsdirect-html">searchNHSDirect.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#settings-html">settings.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#error-pages">error pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="html.html#admin-pages">Admin Pages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#https">HTTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#password-security">Password Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#api-authentication">API Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#sql-injection">SQL Injection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://raptor.kent.ac.uk:5000/static/AndroidDocumentation/index.html">Android JavaDoc</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="references.html#backend">Backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#front-end">Front-End</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#android-application">Android Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#other">Other</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">JustHealth</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Development</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/development.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="development">
<h1>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h1>
<p>The JustHealth application was developed using an iterative approach with a strong focus on being as fast and lightweight as possible.</p>
<p>One of the primary ways we achieved this was through the use of various tools and processes. In some cases we took small parts of methodologies or tools in order to make them work best for us.</p>
<div class="section" id="general-development-process">
<h2>General Development Process<a class="headerlink" href="#general-development-process" title="Permalink to this headline">¶</a></h2>
<p>Below is outlined the &#8220;ideal&#8221; process that we aimed to follow for every prece of functionality. We didn&#8217;t manage to follow this 100% for every little piece of work, but for the most part it worked well.</p>
<ol class="arabic simple">
<li>Identify a piece of functionality to work on</li>
<li>Write a card on Trello to document this feature, who is assigned, when it is due and what needs to be done</li>
<li>Create a git branch from either master, or an existing parent branch for a wider piece of functionality</li>
<li>Write general test cases for this test. Here we would select the inputs and outputs we would expect from a piece of functionality</li>
<li>A developer, or pair, would work on this feature, committing work to the git repository</li>
<li>Once completed a pull request would be created</li>
<li>All tests would be run and the team would review the request</li>
<li>On completion of all tests, the pull request would be merged to the parent branch</li>
</ol>
<p>Our goal with this development process is to ensure that anything on the master branch is deployable at any time. Through the running of tests and review on any pull request, we could attempt to ensure that master was kept clean of any bugs or issues. If an issue was found, it would be logged on the GitHub issues page.</p>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>We strived to use Test-Driven Development as best we could throughout the entirety of the project. This involves creating tests before any code is written showing the general expected inputs and outputs. The functionality should then be written so that it passes the test. One of the downsides of this approach is that it relies on how well the test covers all eventualities. This did result in tests being rewritten and rerun throughout the entire development time when needed.</p>
<p>We also had a seperate JustHealthTest database which the application would connect to, so that we were not running tests against our Production environment.</p>
<p>We had numerous types of tests:</p>
<ol class="arabic simple">
<li>Automated API tests.</li>
<li>Functional web application tests</li>
<li>Functional mobile application (Android) tests</li>
</ol>
<p>Around Iteration 3, we realised that keeping track of all the testing in a word document was causing issues. We tried a number of different options, such as implementing a <a class="reference external" href="http://www.thoughtworks.com/continuous-integration">Continuous Integration</a> tool such as <a class="reference external" href="https://travis-ci.com/">Travis CI</a> or <a class="reference external" href="http://jenkins-ci.org/">Jenkins</a>. This would cause all of our (automated) tests to be ran whenever a merge to the <code class="docutils literal"><span class="pre">master</span></code> branch is made, automatically recording the results of a build and notifying us. However, due to challenges with working on the Kent network, and the added hassle of learning these skills we decided against this.</p>
<p>Instead, Stephen built the <a class="reference external" href="http://raptor.kent.ac.uk:5001/">JustHealth Testing Portal</a>, a small appliction again written in Python/Flask, which allowed us to store all tests and individual runs/results in a database with a front end interface. This greatly improved the speed and quality of our tests/runs.</p>
<p>At Iteration 3 we added also added Iteration 1 and 2 tests under there respetive Iteration number. However, the dates reflect the testing completed at the end of Iteration 3 as these were  tested again on input and to reflect starting using the portal. All our initial SQL database tests were added undter iteration 0 since these were now redundant as we no longer touched the database with SQL, it is now all done programmatically using Python, Psycopg2 and PeeWee.</p>
<p>At Iteration 4 we realised we were not thoroughly testing all the API functions that we had written, therefore as part of our testing for iteration 4 we wrote API tests for all the function we had already written and continued to do this going forward for each iteration. As previously mentioned these are re run every iteration.</p>
<p>Another improvement we have made over the course of each iteration, is making the tests more thorough and ensuring the prerequisits are clearly explained. This has improved throughout the project with running a test driven development approach.</p>
</div>
<div class="section" id="automated-api-tests">
<h2>Automated API Tests<a class="headerlink" href="#automated-api-tests" title="Permalink to this headline">¶</a></h2>
<p><strong>Introduction</strong></p>
<p>The automated tests made use of Python&#8217;s built in <code class="docutils literal"><span class="pre">unittest</span></code> package, which allows tests to created combining calls to our application and assert statements in order to set the pass/fail conditions. The <code class="docutils literal"><span class="pre">setUp()</span></code> and <code class="docutils literal"><span class="pre">tearDown()</span></code> run before and after every test respectively (although are not used in the example below).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">unittest</span>
<span class="k">class</span> <span class="nc">testExample</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>

        <span class="k">def</span> <span class="nf">testPass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">testFail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">a</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>
</pre></div>
</div>
<p>We can run this using:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python -m unittest -v testExample
</pre></div>
</div>
<p>Which will give the following output:</p>
<div class="highlight-bash"><div class="highlight"><pre>testFail <span class="o">(</span>testExample.testExample<span class="o">)</span> ... FAIL
testPass <span class="o">(</span>testExample.testExample<span class="o">)</span> ... <span class="nv">ok</span>

<span class="o">======================================================================</span>
FAIL: testFail <span class="o">(</span>testExample.testExample<span class="o">)</span>
----------------------------------------------------------------------
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
        File <span class="s2">&quot;testExample.py&quot;</span>, line 9, in testFail
        self.assertEqual<span class="o">(</span><span class="s1">&#39;hello&#39;</span>, a<span class="o">)</span>
AssertionError: <span class="s1">&#39;hello&#39;</span> !<span class="o">=</span> <span class="s1">&#39;world&#39;</span>

----------------------------------------------------------------------
Ran <span class="m">2</span> tests in 0.000s

FAILED <span class="o">(</span><span class="nv">failures</span><span class="o">=</span>1<span class="o">)</span>
</pre></div>
</div>
<p>This gives us a quick summary of which tests passed/failed in each TestCase, and why any failures occured.</p>
<p>In order to write tests effectively we used the following iterative method:</p>
<ol class="arabic simple">
<li><strong>Write descriptions of tests only</strong></li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">unittest</span>

<span class="n">testDatabase</span> <span class="o">=</span> <span class="n">imp</span><span class="o">.</span><span class="n">load_source</span><span class="p">(</span><span class="s">&#39;testDatabase&#39;</span><span class="p">,</span> <span class="s">&#39;Website/justHealthServer/testDatabase.py&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">testCreateNotification</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">testLegitimate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="sd">&quot;&quot;&quot;Attempt to create a legitimate notification&quot;&quot;&quot;</span>
                <span class="k">return</span> <span class="bp">False</span>

        <span class="k">def</span> <span class="nf">testInvalidType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="sd">&quot;&quot;&quot;Attempt to create a notification with a non Foreign Key type&quot;&quot;&quot;</span>
                <span class="k">return</span> <span class="bp">False</span>

        <span class="k">def</span> <span class="nf">testInvalidUser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="sd">&quot;&quot;&quot;Attempt to create a notification for a user that doesn&#39;t exist&quot;&quot;&quot;</span>
                <span class="k">return</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Here we have written the 3 tests we are going to write for the <code class="docutils literal"><span class="pre">CreateNotification</span></code> functionality. They all <code class="docutils literal"><span class="pre">return</span> <span class="pre">False</span></code> so that they fail.</p>
<ol class="arabic simple" start="2">
<li><strong>Implement database functionality / setUp(), tearDown()</strong></li>
</ol>
</div>
<div class="section" id="runtests-sh">
<h2>runTests.sh<a class="headerlink" href="#runtests-sh" title="Permalink to this headline">¶</a></h2>
<p>In order to further make testing easier, Rich developed the <code class="docutils literal"><span class="pre">.runTests.sh</span></code> bash script in order to run all recorded tests. It accomplished:</p>
<ol class="arabic simple">
<li>Switching the local server to run against the test database (in order to minimise the risk of unintentinally modifying production tables/data)</li>
<li>Running every single automated test and recording all results.</li>
</ol>
<p>This file can be run from the root of the project, provided a local server is running and connection to the Kent network is available.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>. runTests.sh
</pre></div>
</div>
<p>Below is the output from an example test running session, showing tests passing:</p>
<a class="reference internal image-reference" href="_images/tests.png"><img alt="_images/tests.png" class="align-center" src="_images/tests.png" /></a>
<p>The source of this file is below:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="c"># About</span>
<span class="c"># This should run all tests and give results. It will also automatically alter the local server in order to point to the database, and change back when finshed.</span>
<span class="c"># More detailed output can be added by appending -v to the test in question</span>

<span class="c"># Usage</span>
<span class="c"># Run using &#39;$ . runTests.sh&#39;</span>
<span class="c"># Must be on kent.ac.uk network</span>
<span class="c"># Line 5 in Website/justHealthServer/api.py !!!MUST!!! be the database import</span>

<span class="c"># Results</span>
<span class="c"># . = PASS</span>
<span class="c"># F = Fail</span>
<span class="c"># E = Error</span>

<span class="k">function</span> getImportAPI <span class="o">{</span>
  sed <span class="s1">&#39;5q;d&#39;</span> Website/justHealthServer/api.py
<span class="o">}</span>

<span class="k">function</span> getImportGCM <span class="o">{</span>
  sed <span class="s1">&#39;2q;d&#39;</span> Website/justHealthServer/gcm.py
<span class="o">}</span>

<span class="nv">importStatementAPI</span><span class="o">=</span><span class="sb">`</span>getImportAPI<span class="sb">`</span><span class="p">;</span>
<span class="nv">importStatementGCM</span><span class="o">=</span><span class="sb">`</span>getImportGCM<span class="sb">`</span><span class="p">;</span>

<span class="nb">echo</span> -e <span class="s2">&quot;-------------------------Setup-------------------------&quot;</span>

<span class="k">if</span> <span class="o">[[</span> <span class="nv">$importStatementAPI</span> <span class="o">==</span> <span class="s2">&quot;from database import *&quot;</span> <span class="o">]]</span><span class="p">;</span>  <span class="k">then</span>
  sed -i <span class="s2">&quot;&quot;</span> -e <span class="s2">&quot;5s/.*/from testDatabase import */&quot;</span> Website/justHealthServer/api.py<span class="p">;</span>
  <span class="nb">echo</span> <span class="s2">&quot;API now pointing to TEST database&quot;</span>
  <span class="k">if</span> <span class="o">[[</span> <span class="nv">$importStatementGCM</span> <span class="o">==</span> <span class="s2">&quot;from database import *&quot;</span> <span class="o">]]</span><span class="p">;</span>  <span class="k">then</span>
    sed -i <span class="s2">&quot;&quot;</span> -e <span class="s2">&quot;2s/.*/from testDatabase import */&quot;</span> Website/justHealthServer/gcm.py<span class="p">;</span>
    <span class="nb">echo</span> <span class="s2">&quot;GCM now pointing to TEST database&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Application now pointing to TEST database&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Allowing server to restart...&quot;</span>
    sleep 1
    <span class="nb">echo</span> -ne <span class="s2">&quot;..1..&quot;</span><span class="se">\\</span>r
    sleep 1
    <span class="nb">echo</span> -ne <span class="s2">&quot;..1..2&quot;</span><span class="se">\\</span>r
    sleep 1
    <span class="nb">echo</span> -ne <span class="s2">&quot;..1..2..3&quot;</span><span class="se">\\</span>r
    sleep 1
    <span class="nb">echo</span> -ne <span class="s2">&quot;..1..2..3..4&quot;</span><span class="se">\\</span>r
    sleep 1
    <span class="nb">echo</span> -e <span class="s2">&quot;..1..2..3..4..5&quot;</span><span class="se">\\</span>r
    <span class="nb">echo</span> <span class="s2">&quot;Done!&quot;</span>
    runTests

  <span class="k">elif</span> <span class="o">[[</span> <span class="nv">$importStatement</span> <span class="o">==</span> <span class="s2">&quot;from testDatabase import *&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;Application already pointing to TEST database&quot;</span><span class="p">;</span>
  runTests

  <span class="k">elif</span> <span class="o">[[</span> <span class="nv">$importStatement</span> <span class="o">==</span> <span class="s2">&quot;from testDatabase import *&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;Application already pointing to TEST database&quot;</span><span class="p">;</span>
    runTests
  <span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;Something went wrong. Check DB import statement of Website/justHealthServer/gcm.py&quot;</span><span class="p">;</span>
  <span class="k">fi</span>
  <span class="nb">echo</span> <span class="s2">&quot;Reverting application to PRODUCTION database&quot;</span>
  sed -i <span class="s2">&quot;&quot;</span> -e <span class="s2">&quot;5s/.*/from database import */&quot;</span> Website/justHealthServer/api.py<span class="p">;</span>
  sed -i <span class="s2">&quot;&quot;</span> -e <span class="s2">&quot;2s/.*/from database import */&quot;</span> Website/justHealthServer/gcm.py<span class="p">;</span>

<span class="k">elif</span> <span class="o">[[</span> <span class="nv">$importStatement</span> <span class="o">==</span> <span class="s2">&quot;from testDatabase import *&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&quot;Application already pointing to TEST database&quot;</span><span class="p">;</span>
runTests

<span class="k">elif</span> <span class="o">[[</span> <span class="nv">$importStatement</span> <span class="o">==</span> <span class="s2">&quot;from testDatabase import *&quot;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">&quot;Application already pointing to TEST database&quot;</span><span class="p">;</span>
  runTests
<span class="k">else</span>
  <span class="nb">echo</span> <span class="s2">&quot;Something went wrong. Check DB import statement of Website/justHealthServer/api.py&quot;</span><span class="p">;</span>
<span class="k">fi</span>

<span class="nb">echo</span> <span class="s2">&quot;Reverting application to PRODUCTION database&quot;</span>
sed -i <span class="s2">&quot;&quot;</span> -e <span class="s2">&quot;5s/.*/from database import */&quot;</span> Website/justHealthServer/api.py<span class="p">;</span>
sed -i <span class="s2">&quot;&quot;</span> -e <span class="s2">&quot;2s/.*/from database import */&quot;</span> Website/justHealthServer/gcm.py<span class="p">;</span>

<span class="k">function</span> runTests <span class="o">{</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;---------------Just Health Testing Suite---------------&quot;</span>

  <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;Running against local server: http://127.0.0.1:9999&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

  <span class="nb">echo</span> -e <span class="s2">&quot;For verbose output, please append tests run with -v&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;Results will be shown as:&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;. = Pass&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;F = Fail&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;E = Error&quot;</span>

  <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;Iteration 4&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Authentication&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testAuthentication.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Cancel Connection&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testCancelConnection.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Complete Connection&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testCompleteConnection.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Create Connection&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testCreateConnection.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Deactivate Account&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testDeactivateAccount.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Delete Connection&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testDeleteConnection.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Account Info&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testGetAccountInfo.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Connections&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testGetConnections.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Registration&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testRegistration.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Search Patient Carer&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>4/Test<span class="se">\ </span>Cases/ testSearchPatientCarer.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;Iteration 5&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Add Appointments&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testAddAppointments.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Add Medication&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testAddMedication.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Add Prescription&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testAddPrescription.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Delete Appointment&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testDeleteAppointments.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Delete Medication&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testDeleteMedication.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Delete Prescription&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testDeletePrescription.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Appointment&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testGetAppointments.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Prescriptions&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>5/Test<span class="se">\ </span>Cases/ testGetPrescriptions.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;Iteration 8&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Notifications&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testGetNotifications.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Add Reminders&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testAddReminders.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Create Notification&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testCreateNotification.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Create Prescription Instances&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testCreatePrescriptionInstances.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Delete Reminders&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testDeleteReminders.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Dismiss Notifications&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testDimissNotification.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get appointments due in 30 minutes&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testGetAppointmentsDueIn30.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get appointments due now&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testGetAppointmentsDueNow.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get minutes difference&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testGetMinutesDifference.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Missed Prescriptions&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testGetMissedPrescriptions.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Prescriptions Due Today&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testGetPrescriptionDueToday.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Reminders&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>8/TestCases/ testGetReminders.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>
  <span class="nb">echo</span> <span class="s2">&quot;Iteration 9&quot;</span>
  <span class="nb">echo</span> -e <span class="s2">&quot;======================================================================&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Add Correspondence&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>9/Test<span class="se">\ </span>Cases/ testAddCorrespondence.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Check Stock Level&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>9/Test<span class="se">\ </span>Cases/ testCheckStockLevel.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Delete Note&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>9/Test<span class="se">\ </span>Cases/ testDeleteNote.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Correspondence&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>9/Test<span class="se">\ </span>Cases/ testGetCorrespondence.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Patient Notes&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>9/Test<span class="se">\ </span>Cases/ testGetPatientNotes.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Get Prescription Count&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>9/Test<span class="se">\ </span>Cases/ testGetPrescriptionCount.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>

    <span class="nb">echo</span> <span class="s2">&quot;Take Prescription&quot;</span>
    python -m unittest discover Iteration<span class="se">\ </span>Specific<span class="se">\ </span>Plans/Iteration<span class="se">\ </span>9/Test<span class="se">\ </span>Cases/ testTakePrescription.py
    <span class="nb">echo</span> -e <span class="s2">&quot;\n&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="Full API Listing">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arch.html" class="btn btn-neutral" title="Architecture"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Charlotte Hutchinson, Rich Logan, Ben McGregor, Stephen Tate.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>