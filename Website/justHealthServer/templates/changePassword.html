{% extends "template.html" %}
{% block title %}Settings{% endblock %}
{% block scriptsAndStyles %}
<!--javaScript to confirm a users deactivation -->
<script>
  $(document).ready(function() {
    $("#deactivate").submit(function(e) {
      if (!confirm('Are you sure you want to deactivate this account?')) {
        e.preventDefault();
      }
    });
  });
</script>
{% endblock %}

{% block content %}
<fieldset class ="form-container">
  <i class="fa fa-unlock-alt headingIcon pull-left"></i><h4>Change your password</h4>
  <hr />
  
  <ul class="nav nav-pills btn-margin nav-justified" role="navigation">
    <li role="presentation"><a href="/settings" aria-controls="settings">Account Settings</a></li>
    <!--<li role="presentation"><a href="/security" aria-controls="security">Security & Privacy</a></li>-->
    <li role="presentation"><a href="/faq" aria-controls="faq">FAQs</a></li>
  </ul>
  
  <hr />
  <br />

  <fieldset class="register-inner">
    <!-- Alerts -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{category}} alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            {{message}}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!--form starts -->
    <form name= "resetpassword" action="/password" method="POST">
    <!-- onsubmit="return !!(validateFormResetPassword() & validateEmailResetPassword() & validateDob());" > -->
      <div class="form-group">
        <div class="form-group">
          <input class="form-control input-sm" type="hidden" name="username" value="{{session.username}}">
        </div>
        
        <div class="form-group">
          <label for="currentpassword">Current Password</label>
          <input class="form-control input-sm" type="password" id="validatePassword" name="oldpassword">
        </div>
        
        <div class="form-group">
          <label for="newpassword">New Password</label>
          <input class="form-control input-sm" type="password" id="password" name="newpassword">
          <span id="result"></span>
        </div>
        
        <div class="form-group">
          <label for="confirmnewpassword">Confirm New Password</label>
          <input class="form-control input-sm" type="password" id="confirmPassword" name="confirmnewpassword">
          <!-- onkeyup="passwordCheck(); return false;"> -->
          <span id="confirmationMessage"></span>
        </div>
      </div>
      
      <input class="btn btn-success pull-right" type="submit" value="Update">
    </form>
  </fieldset>
</fieldset>
{% endblock %}