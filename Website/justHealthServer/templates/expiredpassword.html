{% extends "template.html" %}

{% block title %}Reset Password{% endblock %}

{% block scriptsAndStyles %}
<!--javaScript to validate the page -->
<script>
$(document).ready(function() {
	$('form').submit(function(e) {
		if (!validateForm()) {
			e.preventDefault();
			alert("All fields must be filled out")
		}
	});

	//check password strength
	//keyup event on password field so code will execute on every keypress
	$('#password').keyup(function() {
		$('#result').html(checkStrength($('#password').val()));
	});

});
</script>
{% endblock %}

{% block logoutBtn %}{% endblock %}

{% block content %}
<fieldset class ="form-container">
<i class="fa fa-lock headingIcon pull-left"></i><h4>Reset Password</h4>
<br />
<div class="alert alert-{{errortype}} alert-dismissable" role="alert">
	<p>{{error}}</p>
</div>
<h5>{{message}}</h5>
<p>{{submessage}}</p>
<br />
<fieldset class="register-inner">
<!--form starts to reset a users password -->
  <form name= "expiredpassword" action="/expiredpassword" method="POST" onsubmit="return !!(validateFormResetPassword();" >
    <div class="form-group">
    	<div class="form-group">
        	<input class="form-control input-sm hidden" type="text" name="username" value="{{user}}" readonly="readonly">
    	</div>
        <div class="form-group">
       	 	<label for="newpassword">New Password</label>
        	<input class="form-control input-sm" type="password" id="password" name="newpassword">
			<span id="result"></span>
    	</div>
    	<div class="form-group">
        	<label for="confirmnewpassword">Confirm New Password</label>
        	<input class="form-control input-sm" type="password" id="confirmPassword" name="confirmnewpassword" onkeyup="passwordCheck(); return false;">
			<span id="confirmationMessage"></span>
    	</div>
    </div>
    
    <input class="btn btn-success" type="submit" value="Submit">

  </form>
</fieldset>

  <br/>
</fieldset>
{% endblock %}
